<article>
<% if notice %>
  <aside id="notice"><%= notice %></aside>
<% end %>

<h2>Your Cart</h2>
<table>
<%= render (cart.line_items) %>

<% @cart.items.each do |item| %>
  <tr>
    
<% if item.product.present? && item.product.respond_to?(:name) %>
  <td><%= item.product.name %></td>
<% else %>
  <td>Product name not available</td>
<% end %>





    
    
    <td><%= item.quantity %></td>
    <td><%= number_to_currency(item.total_price) %></td>
    <td><%= button_to 'Remove', cart_path(item), method: :delete, remote: true %></td>
  </tr>
<% end %>



<tfoot>
<tr>
<th colspan="2">Total:</th>
<td class="price"><%= number_to_currency(cart.total_price) %></td>
</tr>
 </tfoot>
 </table>
<div class="actions">

<%=  button_to "Empty cart", cart, method: :delete,
      data: { confirm: 'Are you sure?' }, class:"empty-cart" %>

<%=  button_to "Checkout", new_order_path, method: :get, class:"checkout" %>
</div>

</article>